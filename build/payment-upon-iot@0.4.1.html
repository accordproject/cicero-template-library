


<!DOCTYPE html>
<html>
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120382669-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-120382669-1');
    </script>

    <script>
        // handle drop down menus
        window.addEventListener('load', function () {
            var dropdown = document.querySelector('.dropdown');
            if(dropdown) {
                dropdown.addEventListener('click', function(event) {
                    event.stopPropagation();
                    dropdown.classList.toggle('is-active');
                });
            }
        }, false);
    </script>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    

    <!-— generic unfurl tags -->
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:domain" content="templates.accordproject.org" />
    <meta name="twitter:label1" content="Apache 2.0 Licensed" />
    <meta name="twitter:data1" content="on GitHub.com" />
    <meta name="twitter:label2" content="Contribute" />
    <meta name="twitter:data2" content="at AccordProject.org" />

    
<!-— facebook open graph tags -->
<meta property="og:url" content="https://templates.accordproject.org/payment-upon-iot@0.4.1.html" />
<meta property="og:title" content="payment-upon-iot@0.4.1" />
<meta property="og:description" content="This is a payment contract that pays out a fixed amount each time a button is pressed." />
<meta property="og:image" content="https://www.plantuml.com/plantuml/png/hLHDQyCm3BtdL-YuiTQ_e9HcRHY1DWjPUjdDTRMIaTZ5LZRCrly-vskqa9Hqx1IGdlpqdgGi375DPP5x8kV6WD87neLGUd_KwXq5iIEt1KfYcIAsLAKar2_42M4sWpj_Sj28yXxcS_Zo0E01bagIveBMsHiAAtAiqAK1KtyQp4gLknn1DCzTn5gwciaxUJVqCvr-ptlw5vb0hPXess9-dUswh4j7Qk_NLTaGL3ROSnV2A4n3Vns-1gica6oZA8oUMe-UD_4wI5tkT8ll2PgZagQnFfrOp7FrUSxwpxx-ybstLZjmLY3huACaRPH4jthMBogkkCaC2hj40oz6oUZd613J5RQm10Lc7xWV9QQjsJhvZoMHajso31r9iuInEpqBkz9sipeF6sT25--L7wFUoepQVNFpEg2-RSp3RV_fbhm5odtrA_a1" />

<!-— twitter card tags additive with the og: tags -->
<meta name="twitter:title" content="payment-upon-iot@0.4.1" />
<meta name="twitter:description" content="This is a payment contract that pays out a fixed amount each time a button is pressed." />
<meta name="twitter:image" content="https://www.plantuml.com/plantuml/png/hLHDQyCm3BtdL-YuiTQ_e9HcRHY1DWjPUjdDTRMIaTZ5LZRCrly-vskqa9Hqx1IGdlpqdgGi375DPP5x8kV6WD87neLGUd_KwXq5iIEt1KfYcIAsLAKar2_42M4sWpj_Sj28yXxcS_Zo0E01bagIveBMsHiAAtAiqAK1KtyQp4gLknn1DCzTn5gwciaxUJVqCvr-ptlw5vb0hPXess9-dUswh4j7Qk_NLTaGL3ROSnV2A4n3Vns-1gica6oZA8oUMe-UD_4wI5tkT8ll2PgZagQnFfrOp7FrUSxwpxx-ybstLZjmLY3huACaRPH4jthMBogkkCaC2hj40oz6oUZd613J5RQm10Lc7xWV9QQjsJhvZoMHajso31r9iuInEpqBkz9sipeF6sT25--L7wFUoepQVNFpEg2-RSp3RV_fbhm5odtrA_a1" />
<meta name="twitter:image:alt" content="UML diagram of payment-upon-iot@0.4.1 namespace." />
<meta name="twitter:url" content="https://templates.accordproject.org/payment-upon-iot@0.4.1.html" />


    <title>Accord Project Template Library</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.2/gh-fork-ribbon.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
  <a class="github-fork-ribbon right-top" href="https://github.com/accordproject/cicero-template-library" target='_blank'
         data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Please report issues and contribute improvements on GitHub!</a>
    <section class="section">
        <div class="container">
            <a href="/">
                <img width="256" src="/accord_logo.png" />
            </a>
        </div>
    </section>

    
    <section class="section">
        <div class="container">
            <h1 class="title">
                Template payment-upon-iot@0.4.1
            </h1>
            <div class="tags">
                <span class="tag">Contract</span>
                <span class="tag">^0.12.0</span>
                <span class="tag">0737f5deb4ada97cdcac6b66446ad537ddfd8a724140f6c04215b8c865dd7430</span>
            </div>
            <p class="subtitle">
                This is a payment contract that pays out a fixed amount each time a button is pressed.
            </p>

            <p>
                <div class="dropdown">
                    <div class="dropdown-trigger">
                        <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                            <span>Versions</span>
                            <span class="icon is-small">
                                <i class="fas fa-angle-down" aria-hidden="true"></i>
                            </span>
                        </button>
                    </div>
                    <div class="dropdown-menu" id="dropdown-menu" role="menu">
                        <div class="dropdown-content">
                        
                            <a href="payment-upon-iot@0.4.1.html" class="dropdown-item is-active">
                                payment-upon-iot@0.4.1
                            </a>
                        
                            <a href="payment-upon-iot@0.4.0.html" class="dropdown-item ">
                                payment-upon-iot@0.4.0
                            </a>
                        
                            <a href="payment-upon-iot@0.3.0.html" class="dropdown-item ">
                                payment-upon-iot@0.3.0
                            </a>
                        
                            <a href="payment-upon-iot@0.2.0.html" class="dropdown-item ">
                                payment-upon-iot@0.2.0
                            </a>
                        
                            <a href="payment-upon-iot@0.1.5.html" class="dropdown-item ">
                                payment-upon-iot@0.1.5
                            </a>
                        
                            <a href="payment-upon-iot@0.0.1.html" class="dropdown-item ">
                                payment-upon-iot@0.0.1
                            </a>
                        
                        </div>
                    </div>
                </div>
                <a href="./archives/payment-upon-iot@0.4.1.cta" class="button is-rounded">Download Archive</a>
                <a href="https://studio.accordproject.org/?template=ap%3A%2F%2Fpayment-upon-iot%400.4.1%23hash" class="button is-rounded">Open in Template Studio</a>
            </p>

            <img src="https://www.plantuml.com/plantuml/svg/hLHDQyCm3BtdL-YuiTQ_e9HcRHY1DWjPUjdDTRMIaTZ5LZRCrly-vskqa9Hqx1IGdlpqdgGi375DPP5x8kV6WD87neLGUd_KwXq5iIEt1KfYcIAsLAKar2_42M4sWpj_Sj28yXxcS_Zo0E01bagIveBMsHiAAtAiqAK1KtyQp4gLknn1DCzTn5gwciaxUJVqCvr-ptlw5vb0hPXess9-dUswh4j7Qk_NLTaGL3ROSnV2A4n3Vns-1gica6oZA8oUMe-UD_4wI5tkT8ll2PgZagQnFfrOp7FrUSxwpxx-ybstLZjmLY3huACaRPH4jthMBogkkCaC2hj40oz6oUZd613J5RQm10Lc7xWV9QQjsJhvZoMHajso31r9iuInEpqBkz9sipeF6sT25--L7wFUoepQVNFpEg2-RSp3RV_fbhm5odtrA_a1" />

            <div class="content">
                <p>
                <h1 id="paymentuponiotbuttonpress">Payment upon IoT Button Press</h1>
<p>This is template pays out a fixed amount each time a button is pressed.</p>
<p>It responds to:</p>
<ul>
<li>single press : increments a counter by 1</li>
<li>double press : decrements a counter by 1</li>
<li>long press : pays out based on the current counter and resets the counter to 0</li>
</ul>
                </p>
            </div>

            <h4 class="title is-4">Sample</h4>
            <div class="content">
                <pre style="white-space: pre-wrap; border: 0; background-color: transparent;">
Upon long button press, "Dan" shall pay to "Grant" 10 USD for each short button press. A maximum of 5 payments may be made before this contract is COMPLETED.

Note: to undo a short button press the buyer may double-press the button.
                </pre>
            </div>

            <h4 class="title is-4">Model Dependencies</h4>
            <div class="content">
                <ul>
                
                <li><a href="https://models.accordproject.org/cicero/contract.html">org.accordproject.cicero.contract.*</a></li>
                
                <li><a href="https://models.accordproject.org/cicero/runtime.html">org.accordproject.cicero.runtime.*</a></li>
                
                <li><a href="https://models.accordproject.org/money.html">org.accordproject.money.MonetaryAmount</a></li>
                
                <li><a href="https://models.accordproject.org/payment/payment.html">org.accordproject.payment.PaymentReceived</a></li>
                
                <li><a href="https://models.accordproject.org/signature/signature.html">org.accordproject.signature.ContractSigned</a></li>
                
                <li><a href="https://models.accordproject.org/iot/iot.html">org.accordproject.iot.SingleButtonPress</a></li>
                
                <li><a href="https://models.accordproject.org/iot/iot.html">org.accordproject.iot.DoubleButtonPress</a></li>
                
                <li><a href="https://models.accordproject.org/iot/iot.html">org.accordproject.iot.LongButtonPress</a></li>
                
                </ul>
            </div>

            <div class="container">
    <h2 class="title is-2">Technical Integration</h2>

    <div class="content">
    <p>
    Please refer to the <a href="https://docs.accordproject.org/docs/cicero.html">Cicero documentation</a> 
    for details and examples of how to integrate a call to a Cicero template into your application.
    <p>
    <p>
    View the Latest code for this template on <a href="https://github.com/accordproject/cicero-template-library/tree/master/src/payment-upon-iot">on GitHub.</a>
    </p>
    </div>

    <h4 class="title is-4">Sample Instance</h4>
    <pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "$class": "org.accordproject.payment.iot.PaymentUponButtonContract",
    "contractId": "7ee7e557-c277-4df5-a98f-7e1191dca1b2",
    "buyer": {
        "$class": "org.accordproject.cicero.contract.AccordParty",
        "partyId": "Dan"
    },
    "seller": {
        "$class": "org.accordproject.cicero.contract.AccordParty",
        "partyId": "Grant"
    },
    "amountPerUnit": {
        "$class": "org.accordproject.money.MonetaryAmount",
        "doubleValue": 10,
        "currencyCode": "USD"
    },
    "paymentCount": 5
}</pre></code>

    <h4 class="title is-4">State Types</h4>
    <table class="table">
    <thead>
        <tr>
        <th>Type</th>
        <th>Sample JSON</th>
        </tr>
    </thead>
    <tbody>
        
        <tr>
        <th>org.accordproject.payment.iot.CounterState</th>
        <td><pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "$class": "org.accordproject.payment.iot.CounterState",
    "status": "RUNNING",
    "counter": 188.764,
    "paymentCount": 200.531,
    "stateId": "851e4a82-6b63-11e9-87e1-017689ae8ca6"
}</pre></code></td>
        </tr>
        
    </tbody>
    </table>

    <h4 class="title is-4">Request Types</h4>
    <table class="table">
    <thead>
        <tr>
        <th>Type</th>
        <th>Sample JSON</th>
        </tr>
    </thead>
    <tbody>
        
        <tr>
        <th>org.accordproject.iot.DoubleButtonPress</th>
        <td><pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "$class": "org.accordproject.iot.DoubleButtonPress",
    "serialNumber": "Ut magna reprehenderit mollit.",
    "batteryVoltage": "Incididunt eu nulla sunt.",
    "transactionId": "851dd550-6b63-11e9-87e1-017689ae8ca6",
    "timestamp": "2019-04-30T12:17:59.077-04:00"
}</pre></code></td>
        </tr>
        
        <tr>
        <th>org.accordproject.iot.LongButtonPress</th>
        <td><pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "$class": "org.accordproject.iot.LongButtonPress",
    "serialNumber": "Nisi officia.",
    "batteryVoltage": "Nisi nostrud mollit dolore.",
    "transactionId": "851dd551-6b63-11e9-87e1-017689ae8ca6",
    "timestamp": "2019-04-30T12:17:59.077-04:00"
}</pre></code></td>
        </tr>
        
        <tr>
        <th>org.accordproject.iot.SingleButtonPress</th>
        <td><pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "$class": "org.accordproject.iot.SingleButtonPress",
    "serialNumber": "Fugiat dolore eiusmod eu do.",
    "batteryVoltage": "Tempor.",
    "transactionId": "851dae41-6b63-11e9-87e1-017689ae8ca6",
    "timestamp": "2019-04-30T12:17:59.076-04:00"
}</pre></code></td>
        </tr>
        
        <tr>
        <th>org.accordproject.payment.iot.MonetaryAmountPayment</th>
        <td><pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "$class": "org.accordproject.payment.iot.MonetaryAmountPayment",
    "amount": {
        "$class": "org.accordproject.money.MonetaryAmount",
        "doubleValue": 156.344,
        "currencyCode": "PLN"
    },
    "transactionId": "851dd552-6b63-11e9-87e1-017689ae8ca6",
    "timestamp": "2019-04-30T12:17:59.077-04:00"
}</pre></code></td>
        </tr>
        
        <tr>
        <th>org.accordproject.signature.ContractSigned</th>
        <td><pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "$class": "org.accordproject.signature.ContractSigned",
    "contract": "resource:org.accordproject.payment.iot.PaymentUponButtonContract#1515",
    "transactionId": "851dae40-6b63-11e9-87e1-017689ae8ca6",
    "timestamp": "2019-04-30T12:17:59.076-04:00"
}</pre></code></td>
        </tr>
        
    </tbody>
    </table>

    <h4 class="title is-4">Response Types</h4>
    <table class="table">
    <thead>
        <tr>
        <th>Type</th>
        <th>Sample JSON</th>
        </tr>
    </thead>
    <tbody>
        
        <tr>
        <th>org.accordproject.cicero.runtime.Response</th>
        <td><pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "$class": "org.accordproject.cicero.runtime.Response",
    "transactionId": "851e2372-6b63-11e9-87e1-017689ae8ca6",
    "timestamp": "2019-04-30T12:17:59.079-04:00"
}</pre></code></td>
        </tr>
        
    </tbody>
    </table>

    <h4 class="title is-4">Events Types</h4>
    <table class="table">
    <thead>
        <tr>
        <th>Type</th>
        <th>Sample JSON</th>
        </tr>
    </thead>
    <tbody>
        
        <tr>
        <th>org.accordproject.base.Event</th>
        <td><pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "abstract": "this is an abstract type"
}</pre></code></td>
        </tr>
        
        <tr>
        <th>org.accordproject.cicero.runtime.PaymentObligation</th>
        <td><pre style="white-space: pre-wrap; border: 0; background-color: transparent;"><code style="white-space: pre-wrap;">{
    "$class": "org.accordproject.cicero.runtime.PaymentObligation",
    "amount": {
        "$class": "org.accordproject.money.MonetaryAmount",
        "doubleValue": 218.172,
        "currencyCode": "LKR"
    },
    "description": "Non.",
    "contract": "resource:org.accordproject.payment.iot.PaymentUponButtonContract#3476",
    "promisor": "resource:org.accordproject.cicero.contract.AccordParty#1657",
    "promisee": "resource:org.accordproject.cicero.contract.AccordParty#9034",
    "deadline": "2019-04-30T12:17:59.080-04:00",
    "eventId": "851e4a83-6b63-11e9-87e1-017689ae8ca6",
    "timestamp": "2019-04-30T12:17:59.080-04:00"
}</pre></code></td>
        </tr>
        
    </tbody>
    </table>
</div>

        </div>
    </section>


    <footer class="footer">
        <div class="container">
            <div class="content has-text-centered">
                <p>
                    Copyright 2018-2019 <a href="https://accordproject.org">Accord Project</a>. Licensed under the
                    <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache-2.0</a> Open Source software license.
                </p>
            </div>
            <div class="content has-text-centered">
                <p>
The materials on this site are for informational purposes only and do not constitute legal advice. The Accord Project is not a law firm or a substitute for an attorney or law firm. The Accord Project cannot provide any kind of advice, explanation, opinion, or recommendation about possible legal rights, remedies, defenses, options, selection of forms, or strategies. The information provided is not intended to create, and receipt or use of it does not constitute, a lawyer-client relationship. Users should not act upon this information without seeking professional counsel.                </p>
            </div>
        </div>
    </footer>
</body>

</html>