<!DOCTYPE html>
<html>
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120382669-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-120382669-1');
    </script>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-— generic unfurl tags -->
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:domain" value="templates.accordproject.org" />
    <meta name="twitter:label1" value="Apache 2.0 Licensed" />
    <meta name="twitter:data1" value="on GitHub.com" />
    <meta name="twitter:label2" value="Contribute" />
    <meta name="twitter:data2" value="at AccordProject.org" />

    
<!-— facebook open graph tags -->
<meta property="og:url" content="helloworldstate@0.0.5.html" />
<meta property="og:title" content="helloworldstate@0.0.5" />
<meta property="og:description" content="This is the stateful Hello World of Accord Protocol Templates. Executing the clause will simply echo back the text that occurs after the string `Hello` prepended to text that is passed in the request along with the number of times the clause has been called." />
<meta property="og:image" content="http://www.plantuml.com/plantuml/svg/jPAnJiGm38RtFeL747TvWbDr20QMMxXAp26rUaM97Mn7g0BUdRH226wX36p-PVltPyjxDIzMKcn2zAh0CZWV0akVXPymc3jXZFp24ljQQkZkyRcW6knsSD5jfYLx2MqBhmq0NC7HPAG1Hih5clTclU5s-zOkyqzJHedO3oWkSCgiDT193PFhn9FwO2FJ7uWrCod-Xip5rZD_MluRzDsi7sPzdFN2VhqP196-ezzoUOm8WGiPoYhsS-Ul5NwsrIKIaxjXCgdiI-rg-WvJZZKuS8_nxCpa4rRGFL8__zq7" />

<!-— twitter card tags additive with the og: tags -->
<meta name="twitter:title" value="helloworldstate@0.0.5" />
<meta name="twitter:description" value="This is the stateful Hello World of Accord Protocol Templates. Executing the clause will simply echo back the text that occurs after the string `Hello` prepended to text that is passed in the request along with the number of times the clause has been called." />
<meta name="twitter:image" content="http://www.plantuml.com/plantuml/svg/jPAnJiGm38RtFeL747TvWbDr20QMMxXAp26rUaM97Mn7g0BUdRH226wX36p-PVltPyjxDIzMKcn2zAh0CZWV0akVXPymc3jXZFp24ljQQkZkyRcW6knsSD5jfYLx2MqBhmq0NC7HPAG1Hih5clTclU5s-zOkyqzJHedO3oWkSCgiDT193PFhn9FwO2FJ7uWrCod-Xip5rZD_MluRzDsi7sPzdFN2VhqP196-ezzoUOm8WGiPoYhsS-Ul5NwsrIKIaxjXCgdiI-rg-WvJZZKuS8_nxCpa4rRGFL8__zq7" />
<meta name="twitter:url" value="helloworldstate@0.0.5.html" />


    <title>Accord Project Template Library</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
    <a href="https://github.com/accordproject/cicero-template-library">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
            alt="Fork me on GitHub">
    </a>
    <section class="section">
        <div class="container">
            <a href="/">
                <img src="/accord_logo.png" />
            </a>
        </div>
    </section>

    
    <section class="section">
        <div class="container">
            <h1 class="title">
                Template helloworldstate@0.0.5
            </h1>
            <p class="subtitle">
                This is the stateful Hello World of Accord Protocol Templates. Executing the clause will simply echo back the text that occurs after the string `Hello` prepended to text that is passed in the request along with the number of times the clause has been called.
            </p>

            <p>
                <a href="./archives/helloworldstate@0.0.5.cta" class="button is-rounded">Download Archive</a>
            </p>

            <img src="http://www.plantuml.com/plantuml/svg/jPAnJiGm38RtFeL747TvWbDr20QMMxXAp26rUaM97Mn7g0BUdRH226wX36p-PVltPyjxDIzMKcn2zAh0CZWV0akVXPymc3jXZFp24ljQQkZkyRcW6knsSD5jfYLx2MqBhmq0NC7HPAG1Hih5clTclU5s-zOkyqzJHedO3oWkSCgiDT193PFhn9FwO2FJ7uWrCod-Xip5rZD_MluRzDsi7sPzdFN2VhqP196-ezzoUOm8WGiPoYhsS-Ul5NwsrIKIaxjXCgdiI-rg-WvJZZKuS8_nxCpa4rRGFL8__zq7" />

            <h2 class="title is-2">Model Dependencies</h2>
            <div class="content">
                <ul>
                
                  <li>None</li>
                
                </ul>
            </div>

            <h2 class="title is-2">Sample</h2>
            <div class="content">
                <pre>
Name of the person to greet: "Fred Blogs".
Thank you!
                </pre>
            </div>

            <h2 class="title is-2">README</h2>
            <div class="content">
                <p>
                <h1 id="helloworld">Hello World</h1>
<p>This is a smart legal clause that conforms to the <a href="https://docs.google.com/document/d/1UacA_r2KGcBA2D4voDgGE8jqid-Uh4Dt09AE-shBKR0">Accord Protocol Template Specification</a>, the protocol is managed by the open-source community of the <a href="https://accordproject.org">Accord Project</a>. The clause can be parsed and executed by the <a href="https://github.com/accordproject/cicero">Cicero</a> engine.</p>
<h2 id="description">Description</h2>
<blockquote>
  <p>This is the stateful Hello World of Accord Protocol Templates. Executing the clause will simply echo back the text that occurs after the string <code>Hello</code> prepended to text that is passed in the request along with the number of times the clause has been called.</p>
</blockquote>
<p>This clause contains:</p>
<ul>
<li><em>Some sample Clause Text</em> - <a href="sample.txt">sample.txt</a></li>
<li><em>A template</em> - <a href="grammar/template.tem">grammar/template.tem</a></li>
<li><em>A data model</em> - <a href="models/model.cto">models/model.cto</a></li>
<li><em>Contact logic</em> (in JavaScript) - <a href="lib/logic.js">logic/logic.js</a></li>
</ul>
<h2 id="runningthisclause">Running this clause</h2>
<h3 id="onyourownmachine">On your own machine</h3>
<ol>
<li><p><a href="https://github.com/accordproject/cicero-template-library/archive/master.zip">Download the Cicero template library</a></p></li>
<li><p>Unzip the library with your favourite tool</p></li>
<li><p>Then from the command-line, change the current directory to the folder containing this README.md file.</p></li>
</ol>
<pre><code>cd helloworldstate
</code></pre>
<ol start="4">
<li>With the <a href="https://github.com/accordproject/cicero#installation">Cicero command-line tool</a>:</li>
</ol>
<pre><code>cicero execute --template ./ --sample ./sample.txt --request ./request.json --state ./state.json
</code></pre>
<blockquote>
  <p>Note, all of the command-line flags (like <code>--template</code>) are optional.</p>
</blockquote>
<p>Alternatively you can use the simpler command below if you want to use all of the default files.</p>
<pre><code>cicero execute
</code></pre>
<p>You should see the following output in your terminal:</p>
<pre><code class="bash language-bash">mattmbp:helloworldstate matt$ cicero execute
18:27:32 - info: Logging initialized. 2018-05-15T22:27:32.617Z
18:27:33 - info: Using current directory as template folder
18:27:33 - info: Loading a default sample.txt file.
18:27:33 - info: Loading a single default request.json file.
18:27:33 - info: Loading a default state.json file.
18:27:33 - info: {"clause":"helloworldstate@0.0.5-bf3fd89c5a3c5ac9faab5754f69c7cefe24e1e5b30fe786ff29883ca286b4f3d","request":{"$class":"org.accordproject.helloworldstate.Request","input":"Accord Project"},"response":{"$class":"org.accordproject.helloworldstate.Response","output":"Hello Fred Blogs Accord Project(1)","transactionId":"507107a6-e7b8-4f55-a69a-5334d9953076","timestamp":"2018-05-15T22:27:33.287Z"},"state":{"$class":"org.accordproject.helloworldstate.HelloWorldState","counter":1,"stateId":"org.accordproject.helloworldstate.HelloWorldState#1"},"emit":[]}
</code></pre>
<p>The contract state changes every time you call the clause. If you pass more than one requests on the command line, the input will use the state to return the number of times it has been called:</p>
<pre><code class="bash language-bash">mattmbp:helloworldstate matt$ cicero execute --template ./ --sample ./sample.txt --request ./request.json --request ./request.json --request ./request.json
14:31:19 - info: Logging initialized. 2018-05-07T18:31:19.790Z
14:31:20 - info: Loading a default state.json file.
14:31:20 - info: {"clause":"helloworldstate@0.0.5-bf3fd89c5a3c5ac9faab5754f69c7cefe24e1e5b30fe786ff29883ca286b4f3d","request":{"$class":"org.accordproject.helloworldstate.Request","input":"Accord Project"},"response":{"$class":"org.accordproject.helloworldstate.Response","output":"Hello Fred Blogs Accord Project(3)","transactionId":"5c3b1f10-8bf6-4b52-b03c-39b3498fcaee","timestamp":"2018-05-07T18:31:20.358Z"},"state":{"counter":3},"emit":[]}
</code></pre>
<h3 id="samplepayloaddata">Sample Payload Data</h3>
<p>Request, as in <a href="https://github.com/accordproject/cicero-template-library/blob/master/helloworld/request.json">request.json</a></p>
<pre><code class="json language-json">{
    "$class": "org.accordproject.helloworld.Request",
    "input": "Accord Project"
}
</code></pre>
<p>For the request above, you should see the following response:</p>
<pre><code class="json language-json">{
    "$class": "org.accordproject.helloworld.Response",
    "output": "Hello Fred Blogs Accord Project(1)",
    "transactionId": "8b0ec544-6fe1-4894-9044-18d1d568dce1",
    "timestamp": "2018-05-07T18:26:07.721Z"
  }
</code></pre>
<h2 id="testingthisclause">Testing this clause</h2>
<p>This clause comes with an automated test that ensures that it executes correctly under different conditions. To test the clause, complete the following steps.</p>
<p>You need npm and node to test a clause. You can download both from <a href="https://nodejs.org/">here</a>.</p>
<blockquote>
  <p>This clause was tested with Node v8.9.3 and NPM v5.6.0</p>
</blockquote>
<p>From the <code>helloworldstate</code> directory.</p>
<ol>
<li>Install all of the dependencies.</li>
</ol>
<pre><code>npm install
</code></pre>
<ol start="2">
<li>Run the tests</li>
</ol>
<pre><code>npm test
</code></pre>
<p>If successful, you should see the following output</p>
<pre><code>mattmbp:helloworldstate matt$ npm test

&gt; helloworldstate@0.0.5 test /Users/matt/dev/accordproject/cicero-template-library/helloworldstate
&gt; mocha

10:59:43 - info: Logging initialized. 2018-02-18T10:59:43.781Z


  Logic
    #Hello
      ✓ should say hello once
    #Hello
      ✓ should say hello twice


  1 passing (217ms)
</code></pre>
                </p>
            </div>
        </div>
    </section>


    <footer class="footer">
        <div class="container">
            <div class="content has-text-centered">
                <p>
                    Copyright 2018 <a href="https://accordproject.org">Accord Project</a>. Licensed under the
                    <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache-2.0</a> Open Source software license.
                </p>
            </div>
        </div>
    </footer>
</body>

</html>